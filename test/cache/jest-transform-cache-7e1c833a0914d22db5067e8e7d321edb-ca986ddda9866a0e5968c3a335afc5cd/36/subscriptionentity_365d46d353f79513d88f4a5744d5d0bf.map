{"file":"/Users/juknum/Documents/Code/AE/api/src/modules/subscription/entities/subscription.entity.ts","mappings":";;;;;;;;;;;;AAEA,0CAA8D;AAC9D,6CAA8C;AAE9C,sEAAkE;AAClE,qEAA2D;AAGpD,IAAM,YAAY,0BAAlB,MAAM,YAAa,SAAQ,wBAAU;IAa3C,yGAAyG;IACzG,IACI,SAAS;QACZ,OAAO,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;IAClC,CAAC;CACD,CAAA;AAfA;IAFC,IAAA,gBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC;IACrE,IAAA,qBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;8BACxB,kBAAI;0CAAC;AAIX;IAFC,IAAA,eAAQ,GAAE;IACV,IAAA,qBAAW,GAAE;;0CACD;AAIb;IAFC,IAAA,eAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1B,IAAA,qBAAW,GAAE;8BACL,IAAI;6CAAC;AAGd;IAAC,IAAA,eAAQ,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;;6CAG5B;uBAjBW,YAAY;IADxB,IAAA,aAAM,EAAC,EAAE,SAAS,EAAE,eAAe,EAAE,CAAC;GAC1B,YAAY,CAkBxB","names":[],"sources":["/Users/juknum/Documents/Code/AE/api/src/modules/subscription/entities/subscription.entity.ts"],"sourcesContent":["import type { SubscriptionEntity } from '@types';\n\nimport { Entity, ManyToOne, Property } from '@mikro-orm/core';\nimport { ApiProperty } from '@nestjs/swagger';\n\nimport { BaseEntity } from '@modules/_mixin/entities/base.entity';\nimport { User } from '@modules/users/entities/user.entity';\n\n@Entity({ tableName: 'subscriptions' })\nexport class Subscription extends BaseEntity implements SubscriptionEntity<User> {\n\t@ManyToOne(() => User, { onDelete: 'cascade', joinColumn: 'user_id' })\n\t@ApiProperty({ type: Number })\n\tuser: User;\n\n\t@Property()\n\t@ApiProperty()\n\tplan: string;\n\n\t@Property({ type: 'date' })\n\t@ApiProperty()\n\texpires: Date;\n\n\t/** Determine if the subscription is still active by comparing current date with the subscription date */\n\t@Property({ persist: false })\n\tget is_active(): boolean {\n\t\treturn this.expires > new Date();\n\t}\n}\n"],"version":3}