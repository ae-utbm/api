{"version":3,"names":["cov_czyav11zv","actualCoverage","core_1","s","require","swagger_1","base_entity_1","user_entity_1","Subscription","exports","BaseEntity","is_active","f","expires","Date","__decorate","ManyToOne","User","onDelete","joinColumn","ApiProperty","type","Number","Property","persist","Entity","tableName"],"sources":["/Users/juknum/Documents/Code/AE/api/src/modules/subscription/entities/subscription.entity.ts"],"sourcesContent":["import type { SubscriptionEntity } from '@types';\n\nimport { Entity, ManyToOne, Property } from '@mikro-orm/core';\nimport { ApiProperty } from '@nestjs/swagger';\n\nimport { BaseEntity } from '@modules/_mixin/entities/base.entity';\nimport { User } from '@modules/users/entities/user.entity';\n\n@Entity({ tableName: 'subscriptions' })\nexport class Subscription extends BaseEntity implements SubscriptionEntity<User> {\n\t@ManyToOne(() => User, { onDelete: 'cascade', joinColumn: 'user_id' })\n\t@ApiProperty({ type: Number })\n\tuser: User;\n\n\t@Property()\n\t@ApiProperty()\n\tplan: string;\n\n\t@Property({ type: 'date' })\n\t@ApiProperty()\n\texpires: Date;\n\n\t/** Determine if the subscription is still active by comparing current date with the subscription date */\n\t@Property({ persist: false })\n\tget is_active(): boolean {\n\t\treturn this.expires > new Date();\n\t}\n}\n"],"mappings":"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"}