{"version":3,"names":["cov_145qfkkepl","actualCoverage","common_1","s","require","passport_1","platform_express_1","swagger_1","permissions_decorator_1","self_or_perms_decorator_1","register_dto_1","permission_guard_1","self_or_perms_guard_1","role_entity_1","images_1","patch_dto_1","user_visibility_entity_1","user_entity_1","users_service_1","UsersController","exports","constructor","usersService","f","create","input","registerByAdmin","update","req","user","id","delete","get","findOne","getAsPrivate","getVisibility","findVisibility","editPicture","file","updatePicture","deletePicture","getPicture","picture","StreamableFile","getStreamableFile","path","editBanner","updateBanner","deleteBanner","getBanner","banner","getRoleUsers","getUserRoles","show_expired","show_revoked","__decorate","Post","UseGuards","PermissionGuard","GuardPermissions","ApiOperation","summary","ApiOkResponse","description","type","User","ApiUnauthorizedResponse","__param","Body","UserPostByAdminDTO","Patch","SelfOrPermissionGuard","GuardSelfOrPermissions","Req","UserPatchDTO","Object","Delete","Param","Get","UserVisibility","ApiConsumes","ApiBody","schema","properties","format","UseInterceptors","FileInterceptor","UploadedFile","Role","ApiTags","Controller","AuthGuard","ApiBearerAuth","UsersService"],"sources":["/Users/juknum/Documents/Code/AE/api/src/modules/users/users.controller.ts"],"sourcesContent":["import type { Request } from 'express';\n\nimport {\n\tBody,\n\tController,\n\tDelete,\n\tGet,\n\tParam,\n\tPatch,\n\tPost,\n\tReq,\n\tStreamableFile,\n\tUploadedFile,\n\tUseGuards,\n\tUseInterceptors,\n} from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\nimport { FileInterceptor } from '@nestjs/platform-express';\nimport {\n\tApiBearerAuth,\n\tApiBody,\n\tApiConsumes,\n\tApiOkResponse,\n\tApiOperation,\n\tApiTags,\n\tApiUnauthorizedResponse,\n} from '@nestjs/swagger';\n\nimport { GuardPermissions } from '@modules/auth/decorators/permissions.decorator';\nimport { GuardSelfOrPermissions } from '@modules/auth/decorators/self-or-perms.decorator';\nimport { UserPostByAdminDTO } from '@modules/auth/dto/register.dto';\nimport { PermissionGuard } from '@modules/auth/guards/permission.guard';\nimport { SelfOrPermissionGuard } from '@modules/auth/guards/self-or-perms.guard';\nimport { Role } from '@modules/roles/entities/role.entity';\nimport { getStreamableFile } from '@utils/images';\n\nimport { UserPatchDTO } from './dto/patch.dto';\nimport { UserVisibility } from './entities/user-visibility.entity';\nimport { User } from './entities/user.entity';\nimport { UsersService } from './users.service';\n\n@ApiTags('Users')\n@Controller('users')\n@UseGuards(AuthGuard('jwt'))\n@ApiBearerAuth()\nexport class UsersController {\n\tconstructor(private readonly usersService: UsersService) {}\n\n\t@Post()\n\t@UseGuards(PermissionGuard)\n\t@GuardPermissions('CAN_EDIT_USER')\n\t@ApiOperation({ summary: 'Create a new user' })\n\t@ApiOkResponse({ description: 'The created user', type: User })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync create(@Body() input: UserPostByAdminDTO) {\n\t\treturn this.usersService.registerByAdmin(input);\n\t}\n\n\t@Patch()\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_EDIT_USER'])\n\t@ApiOperation({ summary: 'Update an existing user' })\n\t@ApiOkResponse({ description: 'The updated user', type: User })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync update(@Body() input: UserPatchDTO, @Req() req: Request & { user: User }) {\n\t\treturn this.usersService.update(req.user.id, input);\n\t}\n\n\t@Delete(':id')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_DELETE_USER'])\n\t@ApiOperation({ summary: 'Delete a user' })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync delete(@Param('id') id: number) {\n\t\treturn this.usersService.delete(id);\n\t}\n\n\t@Get(':id')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_READ_USER'])\n\t@ApiOperation({ summary: 'Get public information of a user' })\n\t@ApiOkResponse({ description: 'User data, excepted privates fields (set in the visibility table)', type: User })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync get(@Param('id') id: number) {\n\t\treturn this.usersService.findOne({ id });\n\t}\n\n\t@Get(':id/private')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_READ_USER_PRIVATE'])\n\t@ApiOperation({ summary: 'Get information of a user' })\n\t@ApiOkResponse({ description: 'User data', type: User })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync getAsPrivate(@Param('id') id: number) {\n\t\treturn this.usersService.findOne({ id }, false);\n\t}\n\n\t@Get(':id/visibility')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_READ_USER_PRIVATE'])\n\t@ApiOperation({ summary: 'Get visibility of a user' })\n\t@ApiOkResponse({ description: 'User data', type: UserVisibility })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync getVisibility(@Param('id') id: number) {\n\t\treturn this.usersService.findVisibility({ id });\n\t}\n\n\t@Post(':id/picture')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_EDIT_USER'])\n\t@ApiOperation({ summary: 'Update user profile picture' })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\t@ApiConsumes('multipart/form-data')\n\t@ApiBody({\n\t\tschema: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tfile: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tformat: 'binary',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n\t@UseInterceptors(FileInterceptor('file'))\n\tasync editPicture(@UploadedFile() file: Express.Multer.File, @Param('id') id: number) {\n\t\treturn this.usersService.updatePicture({ id, file });\n\t}\n\n\t@Delete(':id/picture')\n\t@UseGuards(PermissionGuard)\n\t@GuardPermissions('CAN_EDIT_USER')\n\t@ApiOperation({ summary: 'Delete user profile picture' })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync deletePicture(@Param('id') id: number) {\n\t\treturn this.usersService.deletePicture(id);\n\t}\n\n\t@Get(':id/picture')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_READ_USER'])\n\t@ApiOperation({ summary: 'Get user profile picture' })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync getPicture(@Param('id') id: number) {\n\t\tconst picture = await this.usersService.getPicture(id);\n\t\treturn new StreamableFile(getStreamableFile(picture.path));\n\t}\n\n\t@Post(':id/banner')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_EDIT_USER'])\n\t@ApiOperation({ summary: 'Update user profile banner' })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\t@ApiConsumes('multipart/form-data')\n\t@ApiBody({\n\t\tschema: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tfile: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tformat: 'binary',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n\t@UseInterceptors(FileInterceptor('file'))\n\tasync editBanner(@UploadedFile() file: Express.Multer.File, @Param('id') id: number) {\n\t\treturn this.usersService.updateBanner({ id, file });\n\t}\n\n\t@Delete(':id/banner')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_EDIT_USER'])\n\t@ApiOperation({ summary: 'Delete user profile banner' })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync deleteBanner(@Param('id') id: number) {\n\t\treturn this.usersService.deleteBanner(id);\n\t}\n\n\t@Get(':id/banner')\n\t@UseGuards(SelfOrPermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_EDIT_USER'])\n\t@ApiOperation({ summary: 'Get user profile banner' })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync getBanner(@Param('id') id: number) {\n\t\tconst banner = await this.usersService.getBanner(id);\n\t\treturn new StreamableFile(getStreamableFile(banner.path));\n\t}\n\n\t@Get(':id/roles')\n\t@UseGuards(PermissionGuard)\n\t@GuardSelfOrPermissions('id', ['CAN_READ_USER'])\n\t@ApiOperation({ summary: 'Get roles of a user' })\n\t@ApiOkResponse({ description: 'Roles of the user', type: [Role] })\n\t@ApiUnauthorizedResponse({ description: 'Insufficient permission' })\n\tasync getRoleUsers(@Param('id') id: number) {\n\t\treturn this.usersService.getUserRoles(id, { show_expired: true, show_revoked: true });\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}