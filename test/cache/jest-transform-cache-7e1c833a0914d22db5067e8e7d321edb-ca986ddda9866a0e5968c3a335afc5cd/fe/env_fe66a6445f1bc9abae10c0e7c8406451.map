{"version":3,"names":["cov_1gun7ioqft","actualCoverage","s","path_1","require","exports","default","f","production","process","env","port","b","parseInt","auth","jwtKey","jwtExpirationTime","files","baseDir","join","cwd","usersPicturesDelay","users","promotions","email","disabled","host","secure","user","pass","whitelist","split","blacklist","cors"],"sources":["/Users/juknum/Documents/Code/AE/api/src/env.ts"],"sourcesContent":["import { join } from 'path';\n\nexport default () => ({\n\tproduction: process.env['DEBUG'] === 'false',\n\tport: parseInt(process.env['API_PORT'], 10) || 3000,\n\tauth: {\n\t\tjwtKey: process.env['JWT_KEY'],\n\t\tjwtExpirationTime: parseInt(process.env['JWT_EXPIRATION_TIME'], 10) || 60 * 60 * 24 * 7, // 1 week\n\t},\n\tfiles: {\n\t\tbaseDir: join(process.cwd(), process.env['FILES_BASE_DIR'] || './public'),\n\t\tusersPicturesDelay: parseInt(process.env['USERS_PICTURES_DELAY'], 10) || 60 * 60 * 24 * 7, // 1 week\n\t\tusers: join(process.cwd(), process.env['USERS_PATH'] || './public/users'),\n\t\tpromotions: join(process.cwd(), process.env['PROMOTIONS_LOGO_PATH'] || './public/promotions'),\n\t},\n\temail: {\n\t\tdisabled: process.env['EMAIL_DISABLED'] === 'true',\n\t\thost: process.env['EMAIL_HOST'],\n\t\tport: parseInt(process.env['EMAIL_PORT'], 10) || 465,\n\t\tsecure: process.env['EMAIL_SECURE'] === 'true',\n\t\tauth: {\n\t\t\tuser: process.env['EMAIL_AUTH_USER'],\n\t\t\tpass: process.env['EMAIL_AUTH_PASS'],\n\t\t},\n\t\twhitelist: {\n\t\t\t// Email addresses that are allowed to be used to register\n\t\t\t// even if they're domain is blacklisted\n\t\t\temail: ['ae.info@utbm.fr', ...(process.env['WHITELISTED_EMAILS']?.split(';') ?? [])],\n\t\t},\n\t\tblacklist: {\n\t\t\thost: ['@utbm.fr', ...(process.env['BLACKLISTED_HOSTS']?.split(';') ?? [])],\n\t\t},\n\t},\n\tcors: process.env['DEBUG'] === 'true' ? '*' : process.env['CORS_ORIGIN_WHITELIST']?.split(';'),\n});\n"],"mappings":"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"}