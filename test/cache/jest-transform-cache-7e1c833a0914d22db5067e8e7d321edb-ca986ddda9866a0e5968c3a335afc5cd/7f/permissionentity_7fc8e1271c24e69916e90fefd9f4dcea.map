{"version":3,"names":["cov_2h7nzhbw31","actualCoverage","core_1","s","require","swagger_1","base_entity_1","user_entity_1","perms_1","Permission","exports","BaseEntity","constructor","f","revoked","__decorate","Property","ApiProperty","enum","PERMISSIONS_NAMES","name","onCreate","type","Boolean","Date","ManyToOne","User","onDelete","joinColumn","Number","Entity","tableName"],"sources":["/Users/juknum/Documents/Code/AE/api/src/modules/permissions/entities/permission.entity.ts"],"sourcesContent":["import type { PermissionEntity, PermissionName } from '@types';\n\nimport { Entity, ManyToOne, Property } from '@mikro-orm/core';\nimport { ApiProperty } from '@nestjs/swagger';\n\nimport { BaseEntity } from '@modules/_mixin/entities/base.entity';\nimport { User } from '@modules/users/entities/user.entity';\nimport { PERMISSIONS_NAMES } from 'src/types/api/permissions/perms';\n\n@Entity({ tableName: 'permissions' })\nexport class Permission extends BaseEntity implements PermissionEntity<User> {\n\t@Property()\n\t@ApiProperty({ enum: PERMISSIONS_NAMES })\n\tname: PermissionName;\n\n\t@Property({ name: 'is_revoked', onCreate: () => false })\n\t@ApiProperty({ type: Boolean })\n\trevoked = false;\n\n\t@Property({ name: 'expires_at' })\n\t@ApiProperty()\n\texpires: Date;\n\n\t@ManyToOne(() => User, { onDelete: 'cascade', joinColumn: 'user_id' })\n\t@ApiProperty({ type: Number })\n\tuser: User;\n}\n"],"mappings":"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"}